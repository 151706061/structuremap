<StructureMap>
	<Assembly Name="StructureMap.Testing.Widget" Deploy="Client,Server,AcceptanceTesting"/>
	<Assembly Name="StructureMap.Testing.Widget2" Deploy="Client,AcceptanceTesting"/>
	<Assembly Name="StructureMap.Testing.Widget3"/>

	
	<Profile Name="Blue">
		<Override Type="StructureMap.Testing.Widget.IWidget" DefaultKey="Blue"/>
		<Override Type="StructureMap.Testing.Widget.Rule" DefaultKey="Blue"/>
	</Profile>

	<Profile Name="Green">
		<Override Type="StructureMap.Testing.Widget.IWidget" DefaultKey="Green"/>
		<Override Type="StructureMap.Testing.Widget.Rule" DefaultKey="Green"/>
	</Profile>	

	<Machine Name="GREENBOX" Profile="Green"/>
	
	<Machine Name="SERVER">
		<Override Type="StructureMap.Testing.Widget.IWidget" DefaultKey="Orange"/>
		<Override Type="StructureMap.Testing.Widget3.IService" DefaultKey="Purple"/>
	</Machine>
	
						
	<PluginFamily Type="StructureMap.Testing.Widget.Column" Assembly="StructureMap.Testing.Widget" DefaultKey="">
		<Source Type="XmlFile" FilePath="FullTesting.XML" XPath="Columns" NodeName="Columns" />
	</PluginFamily>
			
			
	<PluginFamily Type="StructureMap.Testing.Widget.IWidget" Assembly="StructureMap.Testing.Widget" DefaultKey="Red">
		<Instance Type="Color" Key="Blue">
			<Property Name="Color" Value="Blue" />
		</Instance>
		<Instance Type="Color" Key="Green">
			<Property Name="Color" Value="Green" />
		</Instance>
		<Instance Type="Color" Key="Orange">
			<Property Name="Color" Value="Orange" />
		</Instance>
		<Instance Type="Color" Key="Red">
			<Property Name="Color" Value="Red" />
		</Instance>
	</PluginFamily>
	
	
	<PluginFamily Type="StructureMap.Testing.Widget.Rule" Assembly="StructureMap.Testing.Widget" DefaultKey="Blue">
		<Instance Key="Blue" Type="Color">
			<Property Name="Color" Value="Blue" />
		</Instance>
		<Instance Key="Green" Type="Color">
			<Property Name="Color" Value="Green" />
		</Instance>
		<Instance Key="Red" Type="Color">
			<Property Name="Color" Value="Red" />
		</Instance>
	</PluginFamily>
	
	
	
	<PluginFamily Type="StructureMap.Testing.Widget3.IService" Assembly="StructureMap.Testing.Widget3" DefaultKey="Orange" Deploy="Client,AcceptanceTesting">
		<Plugin Assembly="StructureMap.Testing.Widget3" Type="StructureMap.Testing.Widget3.ColorService" ConcreteKey="Color"></Plugin>
		<Instance Type="Color" Key="Blue">
			<Property Name="Color" Value="Blue" />
		</Instance>
		<Instance Type="Color" Key="Green">
			<Property Name="Color" Value="Green" />
		</Instance>
		<Instance Type="Color" Key="Orange">
			<Property Name="Color" Value="Orange" />
		</Instance>
		<Instance Type="Color" Key="Purple">
			<Property Name="Color" Value="Purple" />
		</Instance>
		<Instance Type="Color" Key="Red">
			<Property Name="Color" Value="Red" />
		</Instance>
	</PluginFamily>

	
	<Instances/>
</StructureMap>
